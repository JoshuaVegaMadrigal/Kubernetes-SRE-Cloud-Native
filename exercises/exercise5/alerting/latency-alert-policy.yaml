displayName: "SRE Demo App - Latency Alert Policy"
conditions:
  - displayName: "High P95 Latency"
    conditionThreshold:
      filter: 'resource.type="gke_container" AND metric.type="prometheus.googleapis.com/http_request_duration_seconds/histogram"'
      aggregations:
        - alignmentPeriod: "300s"
          perSeriesAligner: "ALIGN_DELTA"
          crossSeriesReducer: "REDUCE_PERCENTILE_95"
      comparison: "COMPARISON_GREATER_THAN"
      thresholdValue: 0.8
      duration: "300s"
notificationChannels:
  - "projects/PROJECT_ID/notificationChannels/CHANNEL_ID"
